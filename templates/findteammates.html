<!-- extend from "base.html" here -->
{% extends "base.html" %}
<!-- begin block content here -->
{% block content %}
        <!-- searching teams bar -->
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
					<h2>Find Your Teammates</h2>
					<form method="POST" action="{{ url_for('findteammates') }}">
						{{ form.hidden_tag() }}
						<div class="row">
							<div class="col-md-3">
							  {{ form.profile.label(class="form-control-label") }}
							  {{ form.profile(class="form-control form-control-sm") }}
							</div>
							<div class="col-md-3">
							  {{ form.role.label(class="form-control-label") }}
							  {{ form.role(class="form-control form-control-sm") }}
							</div>
							<div class="col-md-3">
							  {{ form.divisions.label(class="form-control-label") }}
							  {{ form.divisions(class="form-control form-control-sm") }}
							</div>
							<button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>
							<br>
						</div>
					</form>
					{% if flash %}
        				{% for message in flash %}
            				<span class="flash-message">{{ message }}</span>
        				{% endfor %}
    				{% endif %}
					{% with messages = get_flashed_messages() %}
						{% if messages %}
							<div class="alert alert-danger">
								{% for message in messages %}
									<p>{{ message }}</p>
								{% endfor %}
							</div>
						{% endif %}
					{% endwith %}
                    <h2>Available Players</h2>
						<style>
							table {
							  border-collapse: collapse;
							  font-size: 0.9em;
							  border: 1px solid #ddd;
							  margin-bottom: 10px;
							}
							
							th {
							  border: 1px solid #ddd;
							  padding: 8px;
							  text-align: left;
							}
							
							td {
							  border: 1px solid #ddd;
							  padding: 8px;
							}
							</style>							
						<!-- Lista dodanych profili -->
						<div class="clash-available-teams">
							{% if find_teammates %}
                            <table>
                                <thead>
                                    <tr>
                                        <th>Lp.</th>
										<th>NICKNAME</th>
                                        <th>DIVISION</th>
                                        <th>MAIN ROLE</th>
                                        <th>SECONDARY POSITION</th>
                                        <th>SERVER</th>
										<th>INVITE</th>
                                    </tr>
                                </thead>
								<tbody>
									{% for teammate in find_teammates %}
									<tr>
										<td>{{ loop.index }}</td>
										<td><a href="#">{{ teammate.nickname }}</a></td>
										<td>{{ teammate.division }}</td>
										<td>{{ teammate.best_position }}</td>
										<td>{{ teammate.alternative_position }}</td>
										<td>{{ teammate.server }}</td>
										<td><a href="#">Invite</a></td>
									</tr>
									{% endfor %}
								</tbody>
                            </table>
							{% else %}
                            <p>There are currently no players meeting your requirements.</p>
                            {% endif %}
						</div>	
				</div>
			</div>
		</div>
<!-- end block content here -->
{% endblock %}